(function(a,b){var e,d=function(a){return new d.init(a)};d.init=function(a){var b,c;if(typeof a=="object")if(d.isArray(a)||d.type(a)==="nodelist"){for(b=0;b<a.length;b++)this[b]=a[b];this.sel="",this.length=a.length}else this[0]=a,this.length=1,this.sel="";else if(typeof a=="string"){c=d.qs(a);for(b=0;b<c.length;b++)this[b]=c[b];this.sel=a,this.length=c.length}this.tiny=!0},d.fn=d.init.prototype={hasClass:function(a){var b=!0,c=RegExp("(\\s|^)"+a+"(\\s|$)");return this.each(function(){c.exec(this.className)||(b=!1)}),b},addClass:function(a){var b=RegExp("(\\s|^)"+a+"(\\s|$)");return this.each(function(){b.exec(this.className)||(this.className+=" "+a)})},removeClass:function(a){var b=RegExp("(\\s|^)"+a+"(\\s|$)");return this.each(function(){this.className=this.className.replace(b," ")})},css:function(a,b){return typeof a=="string"&&typeof b=="string"?this.each(function(){this.style[d.toCamelCase(a)]=b}):this.each(function(){var b;for(b in a)this.style[d.toCamelCase(b)]=a[b]})},hide:function(){return this.each(function(){this.style.display="none"})},show:function(){return this.each(function(){this.style.display="block"})},toggle:function(){return this.each(function(){this.style.display=this.style.display==="block"?"none":"block"})},attr:function(a,b){return typeof a=="string"&&typeof b=="string"?this.each(function(){this.setAttribute(a,b)}):typeof a=="string"&&typeof b=="undefined"?this.length>0?this[0].getAttribute(a):!1:this.each(function(){var b;for(b in a)this.setAttribute(b,a[b])})},each:function(a){var b;for(b=0;b<this.length;b++)a.call(this[b],b,this);return this},is:function(a){var b=!0;return this.each(function(){d.is[a](this)||(b=!1)}),b},filter:function(a){var c,b=[];for(c=0;c<this.length;c++)d.is[a](this[c])&&b.push(this[c]);for(c=0;c<this.length;c++)delete this[c];this.length=b.length;for(c=0;c<this.length;c++)this[c]=b[c];return this},html:function(a){return typeof a=="string"?this.each(function(){this.innerHTML=a}):this.length>0?this[0].innerHTML:!1},val:function(a){return typeof a=="string"?this.each(function(){this.value=a}):this.length>0?this[0].value:!1},template:function(a,b){return typeof a=="object"&&("tiny"in a?a=a.html():a=a.innerHTML),this.each(function(){var d,c=a;for(d in b)c=c.replace(RegExp("\\${"+d+"}","g"),b[d]);this.innerHTML=c})},next:function(a){var b;matches=[],this.each(function(){var b=this.nextSibling;if(a)while(b&&(b.nodeType!==1||!d.testSel(b,a)))b=b.nextSibling;else while(b&&b.nodeType!==1)b=b.nextSibling;b&&(a&&d.testSel(b,a)?matches.push(b):matches.push(b))});for(b=0;b<this.length;b++)delete this[b];this.length=matches.length;for(b=0;b<this.length;b++)this[b]=matches[b];return this},prev:function(a){var b;matches=[],this.each(function(){var b=this.previousSibling;if(a)while(b&&(b.nodeType!==1||!d.testSel(b,a)))b=b.previousSibling;else while(b&&b.nodeType!==1)b=b.previousSibling;b&&(a&&d.testSel(b,a)?matches.push(b):matches.push(b))});for(b=0;b<this.length;b++)delete this[b];this.length=matches.length;for(b=0;b<this.length;b++)this[b]=matches[b];return this},parent:function(a){var b;matches=[],this.each(function(){var b=this.parentNode;if(a)while(b&&(b.nodeType!==1||!d.testSel(b,a)))b=b.parentNode;else while(b&&b.nodeType!==1)b=b.parentNode;b&&(a&&d.testSel(b,a)?matches.push(b):matches.push(b))});for(b=0;b<this.length;b++)delete this[b];this.length=matches.length;for(b=0;b<this.length;b++)this[b]=matches[b];return this},append:function(b,c,d){var e,f;d=d||{},c=c||"";if(typeof b=="object")e=b;else{e=a.createElement(b);for(f in d)e.setAttribute(f,d[f]);e.innerHTML=c}return this.each(function(){this.appendChild(e)})},prepend:function(b,c,d){var e,f;d=d||{},c=c||"";if(typeof b=="object")e=b;else{e=a.createElement(b);for(f in d)e.setAttribute(f,d[f]);e.innerHTML=c}return this.each(function(){this.firstChild?this.insertBefore(e,this.firstChild):this.appendChild(e)})}},typeof addEventListener!="undefined"?(d.fn.on=function(a,b,c){var e="tiny_"+a;return typeof b=="function"?(c=b,this.each(function(){this.addEventListener(a,c,!1),this[e]=c})):this.each(function(){var f=this;f.addEventListener(a,function(a){var e=a.target;while(e!==f&&!d.testSel(e,b))e=e.parentNode;e!==f&&c.call(e,a)},!1),f[e]=c})},d.fn.off=function(a){return this.each(function(){this.removeEventListener(a,this["tiny_"+a],!1)})}):typeof attachEvent!="undefined"&&(d.fn.on=function(a,b,c){var e="tiny_"+a;return typeof b=="function"?(c=b,this.each(function(){var b=this;b[e]=function(){var a=event.type,d=null;if(a==="mouseover"||a==="mouseout")d=a==="mouseover"?event.fromElement:event.toElement;c.call(b,{target:event.srcElement,type:a,relatedTarget:d,_event:event,preventDefault:function(){this._event.returnValue=!1},stopPropagation:function(){this._event.cancelBubble=!0}})},b.attachEvent("on"+a,this[e])})):this.each(function(){var f=this;f[e]=function(){var g,a=event.type,e=null;if(a==="mouseover"||a==="mouseout")e=a==="mouseover"?event.fromElement:event.toElement;g=event.srcElement;while(g!==f&&!d.testSel(g,b))g=g.parentNode;g!==f&&c.call(g,{target:event.srcElement,type:a,relatedTarget:e,_event:event,preventDefault:function(){this._event.returnValue=!1},stopPropagation:function(){this._event.cancelBubble=!0}})},f.attachEvent("on"+a,this[e])})},d.fn.off=function(a){return this.each(function(){this.detachEvent("on"+a,this["tiny_"+a]),delete this["tiny_"+a]})}),d.ajax=function(a){var h,i,j,k,c=a.type?a.type.toUpperCase():"GET",d=a.success||function(){},e=a.error||function(){},f="",g=a.async!=null?a.async:!0;if(typeof a.data=="object"){for(h in a.data)f+="&key="+a.data[h];f=f.substr(1)}else f=a.data;i=!1,j=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];for(k=0;k<j.length;k++){try{i=j[k]()}catch(l){continue}break}if(!i){e.call("418");return}i.open(c,c==="GET"?a.url+"?"+f:a.url,g),c!=="GET"&&i.setRequestHeader("Content-type","application/x-www-form-encoded"),i.onreadystatechange=function(){if(i.readyState!==4)return;i.status===200||i.status===304?d.call(b,i.responseText,i.status):e.call(b,i.status)},i.send(c==="GET"?null:f)},a.querySelectorAll?d.qs=function(b,c){return(c||a).querySelectorAll(b)}:d.qs=function(b,c){var g,h,i,j,k,d=b.split(" "),f=c?[c]:[a];for(g=0;g<d.length;g++){h=[];for(i=0;i<f.length;i++){d[g].charAt(0)==="#"?j=[a.getElementById(d[g].substr(1))]:d[g].charAt(0)==="."?j=e(d[g].substr(1),f[i]):j=f[i].getElementsByTagName(d[g]);for(k=0;k<j.length;k++)h.push(j[k])}f=h}return f};a.getElementsByClassName?e=function(b,c){return(c||a).getElementsByClassName(b)}:e=function(b,c){var d,e,f,g;c=c||a;d=c.getElementsByTagName("*"),e=[],f=RegExp("(\\s|^)"+b+"(\\s|$)");for(g=0;g<d.length;g++)f.exec(d[g].className)&&e.push(d[g]);return e},d.is={visible:function(a){return a.offsetHeight!==0&&a.offsetWidth!==0},hidden:function(a){return a.offsetHeight===0&&a.offsetWidth===0},empty:function(a){return a.childNodes.length===0}},d.type=function(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},d.isArray=function(a){return d.type(a)==="array"},d.toCamelCase=function(a){return a.replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()})},d.testSel=function(a,b){return b.charAt(0)==="#"?a.id===b.substr(1):b.charAt(0)==="."?d(a).hasClass(b.substr(1)):a.nodeName===b.toUpperCase()},b.$=d})(document,window)